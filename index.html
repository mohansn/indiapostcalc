<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shipping Charges Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h2 { color: #2c3e50; }
    label { display: block; margin-top: 10px; }
    select, input { margin-top: 5px; padding: 5px; width: 300px; }
    button { margin-top: 15px; padding: 10px 15px; background: #2c3e50; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #34495e; }
    #result { margin-top: 20px; font-weight: bold; font-size: 1.2em; }
  </style>
</head>
<body>
  <h2>Shipping Charges Calculator</h2>

  <label for="product">Select Product:</label>
  <select id="product">
    <option value="letters">Letters</option>
    <option value="small_packets">Small Packets</option>
    <option value="printed_paper">Printed Paper</option>
    <option value="m_bag">M Bag</option>
    <option value="postcard">Airmail Post Card</option>
    <option value="aerogramme">Aerogramme</option>
  </select>

  <label for="country">Destination Country:</label>
  <input list="countries" id="country" placeholder="Type to search..." />
  <datalist id="countries">
    <!-- UPU countries minus excluded ones -->
    <option value="Afghanistan">
    <option value="Albania">
    <option value="Algeria">
    <option value="Angola">
    <option value="Argentina">
    <option value="Armenia">
    <option value="Aruba">
    <option value="Australia">
    <option value="Austria">
    <option value="Azerbaijan">
    <option value="Bahamas">
    <option value="Bahrain">
    <option value="Bangladesh">
    <option value="Belarus">
    <option value="Belgium">
    <option value="Benin">
    <option value="Bhutan">
    <option value="Bolivia">
    <option value="Bosnia and Herzegovina">
    <option value="Botswana">
    <option value="Brazil">
    <option value="Brunei">
    <option value="Bulgaria">
    <option value="Burkina Faso">
    <option value="Burma (Myanmar)">
    <option value="Burundi">
    <option value="Cambodia">
    <option value="Cameroon">
    <option value="Canada">
    <option value="Cape Verde">
    <option value="Central African Republic">
    <option value="Chad">
    <option value="Chile">
    <option value="China">
    <option value="Colombia">
    <option value="Comoros">
    <option value="Republic of the Congo">
    <option value="Costa Rica">
    <option value="Croatia">
    <option value="Cuba">
    <option value="Curaçao">
    <option value="Cyprus">
    <option value="Czech Republic">
    <option value="Democratic Republic of the Congo">
    <option value="Denmark">
    <option value="Djibouti">
    <option value="Dominica">
    <option value="Dominican Republic">
    <option value="Ecuador">
    <option value="Egypt">
    <option value="El Salvador">
    <option value="Equatorial Guinea">
    <option value="Eritrea">
    <option value="Estonia">
    <option value="Eswatini">
    <option value="Ethiopia">
    <option value="Fiji">
    <option value="Finland">
    <option value="France">
    <option value="Gabon">
    <option value="Gambia">
    <option value="Georgia">
    <option value="Germany">
    <option value="Ghana">
    <option value="Greece">
    <option value="Guatemala">
    <option value="Guinea">
    <option value="Guyana">
    <option value="Haiti">
    <option value="Honduras">
    <option value="Hungary">
    <option value="Iceland">
    <option value="India">
    <option value="Indonesia">
    <option value="Ireland">
    <option value="Italy">
    <option value="Ivory Coast">
    <option value="Japan">
    <option value="Jordan">
    <option value="Kazakhstan">
    <option value="Kenya">
    <option value="Kiribati">
    <option value="Kuwait">
    <option value="Kyrgyzstan">
    <option value="Latvia">
    <option value="Lebanon">
    <option value="Lesotho">
    <option value="Liberia">
    <option value="Liechtenstein">
    <option value="Lithuania">
    <option value="Luxembourg">
    <option value="Madagascar">
    <option value="Malawi">
    <option value="Malaysia">
    <option value="Maldives">
    <option value="Mali">
    <option value="Malta">
    <option value="Mauritania">
    <option value="Mauritius">
    <option value="Mexico">
    <option value="Moldova">
    <option value="Monaco">
    <option value="Mongolia">
    <option value="Montenegro">
    <option value="Morocco">
    <option value="Mozambique">
    <option value="Namibia">
    <option value="Nauru">
    <option value="Nepal">
    <option value="Netherlands">
    <option value="Caribbean Netherlands">
    <option value="New Zealand">
    <option value="Nicaragua">
    <option value="Niger">
    <option value="Nigeria">
    <option value="North Macedonia">
    <option value="Norway">
    <option value="Oman">
    <option value="Panama">
    <option value="Papua New Guinea">
    <option value="Paraguay">
    <option value="Peru">
    <option value="Philippines">
    <option value="Poland">
    <option value="Portugal">
    <option value="Qatar">
    <option value="Romania">
    <option value="Russia">
    <option value="Rwanda">
    <option value="Samoa">
    <option value="San Marino">
    <option value="Saudi Arabia">
    <option value="Senegal">
    <option value="Serbia">
    <option value="Seychelles">
    <option value="Sierra Leone">
    <option value="Singapore">
    <option value="Slovakia">
    <option value="Slovenia">
    <option value="Solomon Islands">
    <option value="Somalia">
    <option value="South Africa">
    <option value="South Korea">
    <option value="South Sudan">
    <option value="Spain">
    <option value="Sri Lanka">
    <option value="Suriname">
    <option value="Sweden">
    <option value="Switzerland">
    <option value="Tajikistan">
    <option value="Tanzania">
    <option value="Thailand">
    <option value="Togo">
    <option value="Trinidad and Tobago">
    <option value="Tunisia">
    <option value="Turkey">
    <option value="Turkmenistan">
    <option value="Uganda">
    <option value="Ukraine">
    <option value="United Arab Emirates">
    <option value="United Kingdom">
    <option value="United States">
    <option value="Uruguay">
    <option value="Uzbekistan">
    <option value="Vanuatu">
    <option value="Vatican City">
    <option value="Venezuela">
    <option value="Vietnam">
    <option value="Zambia">
    <option value="Zimbabwe">
  </datalist>

  <label for="continent">Continent (auto-filled):</label>
  <select id="continent">
    <option value="none">Not Applicable</option>
    <option value="asia">Asia</option>
    <option value="europe">Europe</option>
    <option value="africa">Africa</option>
    <option value="na_au">North America & Australia</option>
    <option value="sa">South America</option>
  </select>

  <label for="mode">Delivery Mode:</label>
  <select id="mode">
    <option value="normal">Normal</option>
    <option value="sal">SAL (Surface Airlifted)</option>
    <option value="air">Air Mail</option>
  </select>

  <label for="weight">Weight (grams or kg for M Bag):</label>
  <input type="number" id="weight" placeholder="Enter weight" />

  <button onclick="calculate()">Calculate Charges</button>

  <div id="result"></div>

  <script>
    // Country -> continent mapping (simplified, for surcharge)
    const countryToContinent = {
      "afghanistan":"asia","albania":"europe","algeria":"africa","angola":"africa",
      "argentina":"sa","armenia":"asia","aruba":"na_au","australia":"na_au",
      "austria":"europe","azerbaijan":"asia","bahamas":"na_au","bahrain":"asia",
      "bangladesh":"asia","belarus":"europe","belgium":"europe","benin":"africa",
      "bhutan":"asia","bolivia":"sa","bosnia and herzegovina":"europe","botswana":"africa",
      "brazil":"sa","brunei":"asia","bulgaria":"europe","burkina faso":"africa",
      "burma (myanmar)":"asia","burundi":"africa","cambodia":"asia","cameroon":"africa",
      "canada":"na_au","cape verde":"africa","central african republic":"africa",
      "chad":"africa","chile":"sa","china":"asia","colombia":"sa","comoros":"africa",
      "republic of the congo":"africa","costa rica":"na_au","croatia":"europe",
      "cuba":"na_au","curaçao":"na_au","cyprus":"europe","czech republic":"europe",
      "democratic republic of the congo":"africa","denmark":"europe","djibouti":"africa",
      "dominica":"na_au","dominican republic":"na_au","ecuador":"sa","egypt":"africa",
      "el salvador":"na_au","equatorial guinea":"africa","eritrea":"africa",
      "estonia":"europe","eswatini":"africa","ethiopia":"africa","fiji":"na_au",
      "finland":"europe","france":"europe","gabon":"africa","gambia":"africa",
      "georgia":"asia","germany":"europe","ghana":"africa","greece":"europe",
      "guatemala":"na_au","guinea":"africa","guyana":"sa","haiti":"na_au","honduras":"na_au",
      "hungary":"europe","iceland":"europe","india":"asia","indonesia":"asia",
      "ireland":"europe","italy":"europe","ivory coast":"africa","japan":"asia",
      "jordan":"asia","kazakhstan":"asia","kenya":"africa","kiribati":"na_au",
      "kuwait":"asia","kyrgyzstan":"asia","latvia":"europe","lebanon":"asia",
      "lesotho":"africa","liberia":"africa","liechtenstein":"europe","lithuania":"europe",
      "luxembourg":"europe","madagascar":"africa","malawi":"africa","malaysia":"asia",
      "maldives":"asia","mali":"africa","malta":"europe","mauritania":"africa",
      "mauritius":"africa","mexico":"na_au","moldova":"europe","monaco":"europe",
      "mongolia":"asia","montenegro":"europe","morocco":"africa","mozambique":"africa",
      "namibia":"africa","nauru":"na_au","nepal":"asia","netherlands":"europe",
      "caribbean netherlands":"na_au","new zealand":"na_au","nicaragua":"na_au",
      "niger":"africa","nigeria":"africa","north macedonia":"europe","norway":"europe",
      "oman":"asia","panama":"na_au","papua new guinea":"na_au","paraguay":"sa",
      "peru":"sa","philippines":"asia","poland":"europe","portugal":"europe",
      "qatar":"asia","romania":"europe","russia":"europe","rwanda":"africa",
      "samoa":"na_au","san marino":"europe","saudi arabia":"asia","senegal":"africa",
      "serbia":"europe","seychelles":"africa","sierra leone":"africa","singapore":"asia",
      "slovakia":"europe","slovenia":"europe","solomon islands":"na_au","somalia":"africa",
      "south africa":"africa","south korea":"asia","south sudan":"africa","spain":"europe",
      "sri lanka":"asia","suriname":"sa","sweden":"europe","switzerland":"europe",
      "tajikistan":"asia","tanzania":"africa","thailand":"asia","togo":"africa",
      "trinidad and tobago":"na_au","tunisia":"africa","turkey":"europe",
      "turkmenistan":"asia","uganda":"africa","ukraine":"europe","united arab emirates":"asia",
      "united kingdom":"europe","united states":"na_au","uruguay":"sa","uzbekistan":"asia",
      "vanuatu":"na_au","vatican city":"europe","venezuela":"sa","vietnam":"asia",
      "zambia":"africa","zimbabwe":"africa"
    };

    document.getElementById('country').addEventListener('change', () => {
      const country = document.getElementById('country').value.trim().toLowerCase();
      const cont = countryToContinent[country] || "none";
      document.getElementById('continent').value = cont;
    });

    function calculate() {
      const product = document.getElementById('product').value;
      const country = document.getElementById('country').value.trim().toLowerCase();
      const continent = document.getElementById('continent').value;
      const mode = document.getElementById('mode').value;
      let weight = parseFloat(document.getElementById('weight').value);
      let charge = 0;

      if (!weight || weight <= 0) {
        document.getElementById('result').innerText = "Please enter a valid weight.";
        return;
      }

      // Base rates
      if (product === "letters") {
        charge = (country === "usa")
          ? (weight <= 20 ? 32 : 32 + Math.ceil((weight - 20) / 20) * 22)
          : (weight <= 20 ? 25 : 25 + Math.ceil((weight - 20) / 20) * 15);
      }
      else if (product === "small_packets") {
        charge = (country === "usa")
          ? (weight <= 100 ? 115 : 115 + Math.ceil((weight - 100) / 100) * 105)
          : (weight <= 100 ? 80 : 80 + Math.ceil((weight - 100) / 100) * 70);
      }
      else if (product === "printed_paper") {
        charge = (country === "usa")
          ? (weight <= 20 ? 35 : 35 + Math.ceil((weight - 20) / 20) * 25)
          : (weight <= 20 ? 35 : 35 + Math.ceil((weight - 20) / 20) * 25);
      }
      else if (product === "m_bag") {
        charge = (weight <= 5) ? 700 : 700 + Math.ceil(weight - 5) * 150;
      }
      else if (product === "postcard") {
        charge = ["pakistan","nepal","bangladesh","bhutan"].includes(country) ? 10 : 15;
      }
      else if (product === "aerogramme") {
        charge = 20;
      }

      // Surcharge
      let surcharge = 0;
      if (mode !== "normal") {
        let units = product === "m_bag"
          ? Math.ceil((weight * 1000) / 20)
          : Math.ceil(weight / 20);
        const salRates = { asia:3, europe:4, africa:4, na_au:7, sa:9 };
        const airRates = { asia:4, europe:5, africa:5, na_au:8, sa:10 };
        surcharge = mode === "sal"
          ? (salRates[continent] || 0) * units
          : (airRates[continent] || 0) * units;
      }

      const totalBeforeTax = charge + surcharge;
      const totalWithTax = totalBeforeTax * 1.18;

      document.getElementById('result').innerText =
        `Base: ₹${charge.toFixed(2)} | Surcharge: ₹${surcharge.toFixed(2)} | ` +
        `Before Tax: ₹${totalBeforeTax.toFixed(2)} | Total w/18% Tax: ₹${totalWithTax.toFixed(2)}`;
    }
  </script>
</body>
</html>

